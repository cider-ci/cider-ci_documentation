<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content='IE=edge' http-equiv=X-UA-Compatible> <meta content='width=device-width, initial-scale=1' name=viewport> <title>Cider-Ci Docs - Job Specification</title> <link href="../../assets/stylesheets/app-228cffb1.css" rel=stylesheet /> <script src="../../assets/javascripts/vendor-e7dce3cb.js"></script> <script src="../../assets/javascripts/app-72be183c.js"></script> </head> <body id=the-cider-ci-documentation> <nav class='navbar navbar-inverse navbar-fixed-top'> <div class=container-fluid> <div class=navbar-header> <button aria-controls=navbar aria-expanded=false class='navbar-toggle collapsed' data-target='#navbar' data-toggle=collapse type=button> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand href="../../">Cider-CI <span class=semantic-version><span class=major>2</span><span class=minor><span class=divider>.</span>4</span><span class=minor><span class=divider>.</span>0</span><span class=version><span class=divider>-</span>BETA.6</span></span> Documentation </a></div> <div class='navbar-collapse collapse' id=navbar> <ul class='nav navbar-nav'> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Install</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../../install/">Install </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Project Configuration</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../">Project Configuration </a></li> <li> <a href="../dotfile.html">Dotfile </a></li> <li> <a href="./">Job Specification </a></li> <li> <a href="../task.html">Task Specification </a></li> <li> <a href="../scripts.html">Script Specification </a></li> <li> <a href="../advanced.html">Advanced Topics </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>API</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../../api/">API </a></li> <li> <a href="../../api/api_resources.html">Core API Resources </a></li> <li> <a href="../../api/storage_resources.html">Storage API Resources </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Development</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../../development/architecture/">Architecture </a></li> <li> <a href="../../development/setup/">Setup </a></li> </ul> </li> </ul> </div> </div> </nav> <div class=container-fluid> <div class=row> <div class='col-sm-3 col-md-2 sidebar'> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../../install/"><strong>Install</strong> </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../"><strong>Project Configuration</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../dotfile.html">Dotfile </a></li> </ul> <ul class='nav nav-sidebar'> <li class=active> <a href="./">Job Specification </a><ul class=toc></ul> </li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../task.html">Task Specification </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../scripts.html">Script Specification </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../advanced.html">Advanced Topics </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../../api/"><strong>API</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../../api/api_resources.html">Core API Resources </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../../api/storage_resources.html">Storage API Resources </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <span class=alike> <strong>Development</strong> </span> </li> <ul class='nav nav-sidebar'> <li class=''> <a href="../../development/architecture/">Architecture </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../../development/setup/">Setup </a></li> </ul> </ul> </div> <div class='col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main'> <h1 class=no_toc id=the-job-specification>The Job Specification</h1> <p>This documentation focuses on the properties by which Cider-CI composes the <em>Job Specification</em>.</p> <h4 class=no_toc id=table-of-contents>Table of Contents</h4> <ul id=markdown-toc> <li><a id=markdown-toc-main-context href="#main-context">Main Context</a></li> <li><a id=markdown-toc-tasks href="#tasks">Tasks</a></li> <li><a id=markdown-toc-task-defaults href="#task-defaults">Task Defaults</a></li> </ul> <h2 id=main-context>Main Context</h2> <p>We call the map underneath a <code>specification</code> key in a Cider-CI dotfile the <em>main context</em>.</p> <div class="highlight yaml"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3
4
5
6</pre></td><td class=code><pre><span class="c1"># Cider-CI dotfile .cider-ci.yml</span>
<span class="s">jobs</span><span class="pi">:</span>
  <span class="s">Tests</span><span class="pi">:</span> 
    <span class="s">specification</span><span class="pi">:</span> 
      <span class="c1"># this is the main context</span>
      <span class="s">_cider-ci_include</span><span class="pi">:</span> <span class="s">/.cider-ci/tests_context.yml</span>
</pre></td></tr></tbody></table> </div> <p>The following code shows a complete main context.</p> <div class="highlight yaml"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3
4
5
6
7
8
9
10</pre></td><td class=code><pre><span class="c1"># example of a main context </span>
<span class="s">name</span><span class="pi">:</span> <span class="s">Tests</span> 
<span class="s">task_defaults</span><span class="pi">:</span> 
  <span class="s">environment_variables</span><span class="pi">:</span> 
    <span class="s">ONE</span><span class="pi">:</span> <span class="s">1</span>
<span class="s">tasks</span><span class="pi">:</span>
  <span class="s2">"</span><span class="s">Assignment</span><span class="nv"> </span><span class="s">of</span><span class="nv"> </span><span class="s">ENV</span><span class="nv"> </span><span class="s">vars</span><span class="nv"> </span><span class="s">through</span><span class="nv"> </span><span class="s">task_defaults"</span><span class="pi">:</span> 
    <span class="s">scripts</span><span class="pi">:</span> 
      <span class="s">main</span><span class="pi">:</span>
        <span class="s">body</span><span class="pi">:</span> <span class="s">test 1 == ${ONE}</span>
</pre></td></tr></tbody></table> </div> <table class="table table-striped"> <thead> <tr> <th>Key</th> <th>Required</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>name</code></td> <td>yes</td> <td>string</td> </tr> <tr> <td><code>tasks</code></td> <td>no</td> <td>map, see the <a href="#tasks">Tasks</a> section</td> </tr> <tr> <td><code>task_defaults</code></td> <td>no</td> <td>map, see the <a href="#task-defaults">Task Defaults</a> section</td> </tr> <tr> <td><code>subcontexts</code></td> <td>no</td> <td>map, see the <a href="../advanced.html#subcontexts">Subcontexts</a> section of the <a href="../advanced.html">Advanced Topics</a> page</td> </tr> </tbody> </table> <h2 id=tasks>Tasks</h2> <p>A map where key is used as the name for the task (unless the task has a key <code>name</code>). Each value, which is itself a map, specifies a <em>Task</em>. See the <a href="../task.html">Task</a> page for the supported properties.</p> <h2 id=task-defaults>Task Defaults</h2> <p>The values of the key <code>task_defaults</code> can be exactly the same of those of a <a href="../task.html">task</a>. However, non of them are are required. When a task specification is constructed the values of <code>task_defaults</code> and <code>task</code> are merged. See the see the <a href="../advanced.html#deep-merge">Deep-Merge</a> section of the <a href="../advanced.html">Advanced Topics</a> page for details.</p> </div> </div> </div> </body> </html>