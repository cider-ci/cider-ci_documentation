<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content='IE=edge' http-equiv=X-UA-Compatible> <meta content='width=device-width, initial-scale=1' name=viewport> <title>Cider-CI Docs</title> <link href="../assets/stylesheets/app-9123878f.css" rel=stylesheet /> <script src="../assets/javascripts/vendor-e7dce3cb.js"></script> <script src="../assets/javascripts/app-72be183c.js"></script> </head> <body id=the-cider-ci-documentation> <nav class='navbar navbar-inverse navbar-fixed-top'> <div class=container-fluid> <div class=navbar-header> <a class=navbar-brand href="../">Cider-CI <span class=semantic-version><span class=major>3</span><span class=divider>.</span><span class=minor>4</span></span> Documentation </a></div> <form action='https://www.google.com/search' class='navbar-form navbar-left' method=get role=search> <div class=form-group> <input name=as_sitesearch type=hidden value='docs.cider-ci.info'> <input class=form-control name=as_q placeholder=Search> <input style='visibility: hidden;' type=submit value='Google Search'> </div> </form> <ul class='nav navbar-nav'> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Introduction</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../introduction/">Introduction </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Installation</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="./">Installation </a></li> <li> <a href="executor-configuration.html">Executor Configuration </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Project Configuration</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../project-configuration/">Project Configuration </a></li> <li> <a href="../project-configuration/configuration-file.html">Configuration File </a></li> <li> <a href="../project-configuration/jobs.html">Jobs </a></li> <li> <a href="../project-configuration/tasks.html">Tasks </a></li> <li> <a href="../project-configuration/scripts.html">Scripts </a></li> <li> <a href="../project-configuration/advanced.html">Advanced Topics </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>API</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../api/">API </a></li> <li> <a href="../api/api_resources.html">Core API Resources </a></li> <li> <a href="../api/storage_resources.html">Storage API Resources </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Development</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../development/">Development </a></li> <li> <a href="../development/architecture/">Architecture </a></li> <li> <a href="../development/setup/">Setup </a></li> </ul> </li> </ul> </div> </nav> <div class=container-fluid> <div class=row> <div class='col-sm-3 col-md-2 sidebar'> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../introduction/"><strong>Introduction</strong> </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="./"><strong>Installation</strong> </a></li> <ul class='nav nav-sidebar'> <li class=active> <a href="executor-configuration.html">Executor Configuration </a><ul class=toc></ul> </li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../project-configuration/"><strong>Project Configuration</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/configuration-file.html">Configuration File </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/jobs.html">Jobs </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/tasks.html">Tasks </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/scripts.html">Scripts </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/advanced.html">Advanced Topics </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../api/"><strong>API</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../api/api_resources.html">Core API Resources </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../api/storage_resources.html">Storage API Resources </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../development/"><strong>Development</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../development/architecture/">Architecture </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../development/setup/">Setup </a></li> </ul> </ul> </div> <div class='col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main'> <h1 id=executor-configuration>Executor Configuration</h1> <h2 id=initial-installation-and-registration>Initial Installation and Registration</h2> <p>Every executor must be registered with the server. This is performed automatically when installing the executor via the Ansible <code>play_site</code> playbook. To this end the executor must be registered in the Ansible hosts file. See also the <a href="./">Installation</a> page.</p> <h2 id=root-path>Root Path</h2> <p>The default root location of an installed executor on Linux is <code>/var/local/cider-ci/executor</code>. The scripts are invoked as the user <code>cider-ci_exec-user</code>.</p> <h2 id=adding-traits>Adding Traits</h2> <p>The demo installation will provide the traits <code>linux</code> and <code>bash</code> for each executor. They suffice to run the jobs of the <a href="https://github.com/cider-ci/cider-ci_demo-project-bash">Bash Demo Project for Cider-CI</a>.</p> <h3 id=adding-traits-provided-by-the-ansible-setup>Adding Traits provided by the Ansible Setup</h3> <p>A set of additional traits can be automatically installed with</p> <p><code>ansible-playbook -i hosts_demo_single play_traits.yml</code></p> <h3 id=adding-custom-traits>Adding Custom Traits</h3> <p>Every executor advertises its available traits to the server. It aggregates the traits from <code>/etc/cider-ci/traits.txt</code>, and <code>./config/traits.txt</code>. The path of the latter is meant relative to the root location of the executor. The traits are separated by commas.</p> <h2 id=restricting-the-accepted-repositories>Restricting the Accepted Repositories</h2> <p>An executor can be configured to only accept trials for certain repositories. This is a security and trust feature. A particular executor might have the possibility to perform deploys or commit to the repository for example. When using this feature it can be ensured that only persons which have permission to push to the original repository can cause actions on this executor.</p> <p>The protection is twofold. The server is programmed to only dispatch accepted repositories to an executor. The executor will at any rate refuse to process trials for repositories it does not accept.</p> <p>Defining accepted repositories is very similar to defining traits. The file <code>/etc/cider-ci/accepted-repositories.txt</code>, and <code>./config/accepted-repositories.txt</code> take a list of comma separated repository URLs. In contrast to traits, if no accepted repositories are defined the executor will accept any repository.</p> <p class="text text-warning">Heads up: the URLs must be equal by case sensitive string comparison!</p> </div> </div> </div> </body> </html>