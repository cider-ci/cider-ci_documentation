<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content='IE=edge' http-equiv=X-UA-Compatible> <meta content='width=device-width, initial-scale=1' name=viewport> <title>Setup and Deploy - Cider-Ci Documentation</title> <link href="../assets/stylesheets/app-9123878f.css" rel=stylesheet /> <script src="../assets/javascripts/vendor-e7dce3cb.js"></script> <script src="../assets/javascripts/app-72be183c.js"></script> </head> <body id=the-cider-ci-documentation> <nav class='navbar navbar-inverse navbar-fixed-top'> <div class=container-fluid> <div class=navbar-header> <a class=navbar-brand href="../">Cider-CI <span class=semantic-version><span class=major>3</span><span class=divider>.</span><span class=minor>7</span><span class=divider>-</span><span class=pre>beta</span></span> Documentation </a></div> <form action='https://www.google.com/search' class='navbar-form navbar-left' method=get role=search> <div class=form-group> <input name=as_sitesearch type=hidden value='docs.cider-ci.info'> <input class=form-control name=as_q placeholder=Search> <input style='visibility: hidden;' type=submit value='Google Search'> </div> </form> <ul class='nav navbar-nav'> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Introduction</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../introduction/">Introduction </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Installation</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="./">Installation </a></li> <li> <a href="setup_and_deploy.html">Setup and Deploy </a></li> <li> <a href="advanced.html">Advanced Installation </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Project Configuration</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../project-configuration/">Project Configuration </a></li> <li> <a href="../project-configuration/configuration-file.html">Configuration File </a></li> <li> <a href="../project-configuration/jobs.html">Jobs </a></li> <li> <a href="../project-configuration/tasks.html">Tasks </a></li> <li> <a href="../project-configuration/scripts.html">Scripts </a></li> <li> <a href="../project-configuration/advanced.html">Advanced Topics </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>API</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../api/">API </a></li> <li> <a href="../api/api_resources.html">Core API Resources </a></li> <li> <a href="../api/storage_resources.html">Storage API Resources </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Development</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../development/">Development </a></li> <li> <a href="../development/architecture/">Architecture </a></li> <li> <a href="../development/setup/">Setup </a></li> </ul> </li> </ul> </div> </nav> <div class=container-fluid> <div class=row> <div class='col-sm-3 col-md-2 sidebar'> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../introduction/"><strong>Introduction</strong> </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="./"><strong>Installation</strong> </a></li> <ul class='nav nav-sidebar'> <li class=active> <a href="setup_and_deploy.html">Setup and Deploy </a><ul class=toc></ul> </li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="advanced.html">Advanced Installation </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../project-configuration/"><strong>Project Configuration</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/configuration-file.html">Configuration File </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/jobs.html">Jobs </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/tasks.html">Tasks </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/scripts.html">Scripts </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/advanced.html">Advanced Topics </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../api/"><strong>API</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../api/api_resources.html">Core API Resources </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../api/storage_resources.html">Storage API Resources </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../development/"><strong>Development</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../development/architecture/">Architecture </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../development/setup/">Setup </a></li> </ul> </ul> </div> <div class='col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main'> <h1 class=no_toc id=setup-and-deploy>Setup and Deploy</h1> <p>This page guides through the process of installing a simple Cider-CI environment.</p> <p>This guide is optimized for easiness and providing quick results. After providing the prerequisites it will just take <strong>3 easy steps</strong> and about <strong>three minutes</strong> your time to kick off the installation process.</p> <h3 class=no_toc id=table-of-contents>Table of Contents</h3> <ul id=markdown-toc> <li><a id=markdown-toc-introduction href="#introduction">Introduction</a></li> <li><a id=markdown-toc-prerequisites-and-preparation href="#prerequisites-and-preparation">Prerequisites and Preparation</a></li> <li><a id=markdown-toc-step-by-step-instructions href="#step-by-step-instructions">Step by Step Instructions</a></li> <li><a id=markdown-toc-next href="#next">Next</a></li> </ul> <h2 id=introduction>Introduction</h2> <p>Installing and maintaining a Cider-CI environment is largely an automated process thanks to the <a href="https://github.com/cider-ci/cider-ci_deploy">Cider-CI Deploy Project</a>. It supports any mixture of the <em>Linux</em> based Ubuntu 14.04 "Trusty" or Debian 8 "Jessie" operating systems for the Cider-CI Server and executors. Since Cider-CI version 3.7 "Redmond" executors running on <em>Windows</em> are supported, too. It is also possible to install a Cider-CI executor manually on other operating systems.</p> <p>The remainder of this page focuses on a <strong>simple</strong> setup existing of one <strong>single machine</strong>. Advanced installation and installing to Windows is out of the scope of this page but covered in other documents of this documentation.</p> <h2 id=prerequisites-and-preparation>Prerequisites and Preparation</h2> <div class=row> <div class=col-md-6> <p>The <a href="https://github.com/cider-ci/cider-ci_deploy">Cider-CI Deploy Project</a> relies heavily on Ansible which must must be present on the <em>control</em> machine. See the <a href="//docs.ansible.com/intro_installation.html">Install</a> page of the Ansible Documentation. We use a fairly recent version (â‰¥ 1.9 at the time of writing) of Ansible. The operating system on the controller is not relevant. We use <em>Mac OS X</em> and various <em>Linux</em> variants.</p> <p>The working account on the <strong>control machine</strong> must have <strong>ssh access to all target machines</strong>. A setup with SSH keys and without passwords to the root account is the most straight forward configuration.</p> </div> <div class=col-md-6> <p><a href="simple-demo-31858b5a.svg"><img alt=Environment src="simple-demo-31858b5a.svg"/></a></p> </div> </div> <div class="alert alert-info" role=info> <p>Accessing machines directly via the root account is now discouraged in many and effectively disabled in some Linux distributions. Read <a href="//askubuntu.com/questions/469143/how-to-enable-ssh-root-access-on-ubuntu-14-04">How to enable ssh root access on Ubuntu 14.04</a> for example.</p> </div> <h2 id=step-by-step-instructions>Step by Step Instructions</h2> <p>The following example assumes that a single Linux machine is ready installed, we call it the <code>demo-machine</code>.</p> <ol> <li> <p>We check out the <a href="https://github.com/cider-ci/cider-ci">Cider-CI Main Project</a> including all sub-projects inside the control machine:</p> <p><code>git clone --recursive https://github.com/cider-ci/cider-ci.git</code></p> </li> <li> <p>We descend into the deploy directory which is part of the <a href="https://github.com/cider-ci/cider-ci_deploy">Cider-CI Deploy Project</a>:</p> <p><code>cd cider-ci/deploy</code></p> </li> <li> <p>We start the setup with the following command where we replace <code>192.168.0.31</code> with the IP address of our <code>demo-machine</code>:</p> <p><code>DEPLOY_ROOT_DIR=`pwd` ansible-playbook -i inventories/demo/easy/hosts play_site.yml -e 'ansible_ssh_host=192.168.0.31 cider_ci_master_secret=secret admin_password=secret'</code></p> <div class="alert alert-warning" role=alert> <p>You can leave the value of the <code>cider_ci_master_secret</code> and <code>admin_password</code> as is if your <code>demo-machine</code> cannot be accessed from "the outside". Otherwise you need to change them or virtually everbody has unrestricted access to your machine!</p> </div> </li> </ol> <div class="alert alert-info" role=info> <p>Installing Cider-CI from scratch can take a while. 45 minutes are typical for a virtual machine running on my laptop. The setup performs many downloads from the internet which can be a reason for temporary failures. The playbook is idempotent and thus can be rerun again at any time.</p> </div> <p>This is it. You can no visit your installation at <code>http://IP-OF-YOUR-DEMO-MACHINE</code>. The setup will create an <code>admin</code> user with the password <code>secret</code> (unless the parameters have been changed in step 3). The setup also configured two projects. Run some of the jobs from the <a href="https://github.com/cider-ci/cider-ci_demo-project-bash.git">Cider-CI Bash Demo Project</a> to learn about the capablities of Cider-CI.</p> <h2 id=next>Next</h2> <p>Add your own project to your installation and configure it which is covered in <a href="/project-configuration/">Project Configuration</a>. You will probably need a few more traits on top of the default ones. Read about adding traits to your executor in <a href="./adding-traits.html">Adding Traits</a>. If you want learn about how to set up an production like Cider-CI environment read <a href="">Advanced Installation</a>.</p> </div> </div> </div> </body> </html>