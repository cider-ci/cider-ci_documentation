<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content='IE=edge' http-equiv=X-UA-Compatible> <meta content='width=device-width, initial-scale=1' name=viewport> <title>Setup and Deploy - Installation - Cider-Ci Documentation</title> <link href="../assets/stylesheets/app-9123878f.css" rel=stylesheet /> <script src="../assets/javascripts/vendor-e7dce3cb.js"></script> <script src="../assets/javascripts/app-72be183c.js"></script> </head> <body id=the-cider-ci-documentation> <nav class='navbar navbar-inverse navbar-fixed-top'> <div class=container-fluid> <div class=navbar-header> <a class=navbar-brand href="../">Cider-CI <span class=semantic-version><span class=major>3</span><span class=divider>.</span><span class=minor>6</span></span> Documentation </a></div> <form action='https://www.google.com/search' class='navbar-form navbar-left' method=get role=search> <div class=form-group> <input name=as_sitesearch type=hidden value='docs.cider-ci.info'> <input class=form-control name=as_q placeholder=Search> <input style='visibility: hidden;' type=submit value='Google Search'> </div> </form> <ul class='nav navbar-nav'> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Introduction</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../introduction/">Introduction </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Installation</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="./">Installation </a></li> <li> <a href="setup_and_deploy.html">Setup and Deploy </a></li> <li> <a href="advanced.html">Advanced Installation </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Project Configuration</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../project-configuration/">Project Configuration </a></li> <li> <a href="../project-configuration/configuration-file.html">Configuration File </a></li> <li> <a href="../project-configuration/jobs.html">Jobs </a></li> <li> <a href="../project-configuration/tasks.html">Tasks </a></li> <li> <a href="../project-configuration/scripts.html">Scripts </a></li> <li> <a href="../project-configuration/advanced.html">Advanced Topics </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>API</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../api/">API </a></li> <li> <a href="../api/api_resources.html">Core API Resources </a></li> <li> <a href="../api/storage_resources.html">Storage API Resources </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Development</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../development/">Development </a></li> <li> <a href="../development/architecture/">Architecture </a></li> <li> <a href="../development/setup/">Setup </a></li> </ul> </li> </ul> </div> </nav> <div class=container-fluid> <div class=row> <div class='col-sm-3 col-md-2 sidebar'> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../introduction/"><strong>Introduction</strong> </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="./"><strong>Installation</strong> </a></li> <ul class='nav nav-sidebar'> <li class=active> <a href="setup_and_deploy.html">Setup and Deploy </a><ul class=toc></ul> </li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="advanced.html">Advanced Installation </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../project-configuration/"><strong>Project Configuration</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/configuration-file.html">Configuration File </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/jobs.html">Jobs </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/tasks.html">Tasks </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/scripts.html">Scripts </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/advanced.html">Advanced Topics </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../api/"><strong>API</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../api/api_resources.html">Core API Resources </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../api/storage_resources.html">Storage API Resources </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../development/"><strong>Development</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../development/architecture/">Architecture </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../development/setup/">Setup </a></li> </ul> </ul> </div> <div class='col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main'> <h1 class=no_toc id=setup-and-deploy---installing-cider-ci>Setup and Deploy - Installing Cider-CI</h1> <p>This page guides through the process of initially installing a Cider-CI environment.</p> <h3 class=no_toc id=table-of-contents>Table of Contents</h3> <ul id=markdown-toc> <li><a id=markdown-toc-environment-prerequisites href="#environment-prerequisites">Environment Prerequisites</a></li> <li><a id=markdown-toc-step-by-step-install-procedure-for-a-demo-environment href="#step-by-step-install-procedure-for-a-demo-environment">Step by Step Install Procedure for a Demo Environment</a></li> <li><a id=markdown-toc-adding-traits href="#adding-traits">Adding Traits</a></li> </ul> <h2 id=environment-prerequisites>Environment Prerequisites</h2> <div class=row> <div class=col-md-6> <p>Ansible must be present on the <em>control</em> machine. See the <a href="//docs.ansible.com/intro_installation.html">Install</a> page of the Ansible Documentation. We use a fairly recent version (â‰¥ 1.9 at the time of writing) of Ansible. The operating system on the controller is not relevant. We use Mac OS X and various Linux variants.</p> <p>The Ansible setup supports Ubuntu 14.04 or Debian 8. The working account on the <strong>control machine</strong> must have <strong>ssh access to the server and executors</strong>. A setup with SSH keys and without passwords is the most straight forward configuration.</p> <p>The server and executors must reach each other via the <strong>https</strong> protocol (port 443) to function properly. The <strong>example setup</strong> assumes that all machines have <strong>fixed ipv4 addresses</strong>. <strong>Custom configuration</strong> of protocol and port, as well as names instead of addresses is <strong>possible</strong> but outside the scope of this documentation.</p> </div> <div class=col-md-6> <p><a href="environment-51436abd.svg"><img alt=Environment src="environment-51436abd.svg"/></a></p> </div> </div> <h2 id=step-by-step-install-procedure-for-a-demo-environment>Step by Step Install Procedure for a Demo Environment</h2> <p>The following example uses one machine in the role of the server and executor.</p> <ol> <li> <p>We check out the <a href="https://github.com/cider-ci/cider-ci">Cider-CI main project</a> including all sub-projects inside the control machine:</p> <p><code>git clone --recursive https://github.com/cider-ci/cider-ci.git</code></p> </li> <li> <p>We descend into the deploy directory.</p> <p><code>cd cider-ci/deploy</code></p> </li> <li> <p>We adjust the host ip within the <code>hosts_demo_single</code> file:</p> <p>[demo] demo-machine ansible_ssh_host=192.168.0.31 ansible_ssh_user=root</p> </li> <li> <p>We invoke ansible-playbook to trigger the install:</p> <p><code>ansible-playbook -i hosts_demo_single play_site.yml -e 'system_admin_password=secret system_admin_login=admin cider_ci_master_secret=REPLACE-WITH-YOUR-SECRET'</code></p> </li> </ol> <div class="alert alert-warning" role=alert> <p>Installing Cider-CI from scratch can take a while (45 minutes are typical for a virtual machine running on my laptop). It can happen that the <code>ansible-playbook</code> fails due to network timeouts e.g. The playbook is idempotent and thus can be rerun again at any time.</p> </div> <h2 id=adding-traits>Adding Traits</h2> <p>See <a href="advanced.html#adding-traits">Adding Traits</a> on the <a href="advanced.html">Advanced Installation</a> page.</p> </div> </div> </div> </body> </html>