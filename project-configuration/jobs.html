<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content='IE=edge' http-equiv=X-UA-Compatible> <meta content='width=device-width, initial-scale=1' name=viewport> <title>Cider-CI Docs</title> <link href="../assets/stylesheets/app-30beb77e.css" rel=stylesheet /> <script src="../assets/javascripts/vendor-ce938919.js"></script> <script src="../assets/javascripts/app-72be183c.js"></script> </head> <body id=the-cider-ci-documentation> <div class=container> <nav class='navbar navbar-inverse'> <div class=container-fluid> <div class=navbar-header> <a class=navbar-brand href="../">Cider-CI <span class=semantic-version><span class=major>4</span><span class=divider>.</span><span class=minor>0</span><span class=divider>.</span><span class=patch>0</span><span class=divider>-</span><span class=pre>BETA.3</span><span class=divider>+</span><span class=build>1</span></span> Documentation </a></div> <form action='https://www.google.com/search' class='navbar-form navbar-left' method=get role=search> <div class=form-group> <input name=as_sitesearch type=hidden value='docs.cider-ci.info'> <input name=hl type=hidden value=en> <input class=form-control name=as_q placeholder=Search> <button class='btn btn-default' style='display: none' type=submit>Submit</button> </div> </form> <ul class='nav navbar-nav'> <li> <a href="../introduction/">Introduction </a></li> <li> <a href="../introduction/quick-start/">Quick-Start </a></li> <li> <a href="../sitemap.html">Sitemap </a></li> </ul> </div> </nav> <div class=row> <div class=col-md-6> <ol class=breadcrumb> <li> <a href="../">Home </a></li> <li> <a href="./">Project Configuration </a></li> <li> <a href="jobs.html">Jobs </a></li> </ol> </div> <div class=col-md-6> </div> </div> <div class=content> <h1 id=jobs>Jobs</h1> <p>The <code>jobs</code> key introduces a map of maps, see <a href="advanced.html#map-of-maps">Map of Maps</a> in <a href="advanced.html">Advanced Topics</a>, each mapping to a <a href="#job">Job</a>. This structure specifies available jobs and relations between them.</p> <h2 id=example>Example</h2> <div class=highlighter-coderay><div class=CodeRay> <div class=code><pre><span class="line-numbers"> <a href="#n1" name="n1">1</a></span><span style="color:#606">jobs</span>:
<span class="line-numbers"> <a href="#n2" name="n2">2</a></span>
<span class="line-numbers"> <a href="#n3" name="n3">3</a></span>  <span style="color:#606">job-prerequisite</span>:
<span class="line-numbers"> <a href="#n4" name="n4">4</a></span>
<span class="line-numbers"> <a href="#n5" name="n5">5</a></span>    <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Jobs - Dependencies and Triggers - Prerequisite</span></span>
<span class="line-numbers"> <a href="#n6" name="n6">6</a></span>    <span style="color:#606">description</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">|</span><span style="color:#D20"></span></span>
<span class="line-numbers"> <a href="#n7" name="n7">7</a></span><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">      This one serves as a prerequisite to &quot;job-depends&quot;.</span></span>
<span class="line-numbers"> <a href="#n8" name="n8">8</a></span><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">      Additionally it will be automatically triggered if a branch matching the</span></span>
<span class="line-numbers"> <a href="#n9" name="n9">9</a></span><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">      regular expression /^trigger-prerequisite$/ is updated.</span></span>
<span class="line-numbers"><strong><a href="#n10" name="n10">10</a></strong></span>
<span class="line-numbers"><a href="#n11" name="n11">11</a></span>    <span style="color:#606">run_on</span>:
<span class="line-numbers"><a href="#n12" name="n12">12</a></span>    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">type: branch</span></span>
<span class="line-numbers"><a href="#n13" name="n13">13</a></span>      <span style="color:#606">include_match</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">^trigger-prerequisite$</span></span>
<span class="line-numbers"><a href="#n14" name="n14">14</a></span>
<span class="line-numbers"><a href="#n15" name="n15">15</a></span>    <span style="color:#606">context</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">{}</span></span>
<span class="line-numbers"><a href="#n16" name="n16">16</a></span>
<span class="line-numbers"><a href="#n17" name="n17">17</a></span>  <span style="color:#606">job-dependent</span>:
<span class="line-numbers"><a href="#n18" name="n18">18</a></span>
<span class="line-numbers"><a href="#n19" name="n19">19</a></span>    <span style="color:#606">name</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">Jobs - Dependencies and Triggers - Dependent</span></span>
<span class="line-numbers"><strong><a href="#n20" name="n20">20</a></strong></span>    <span style="color:#606">description</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#710">|</span><span style="color:#D20"></span></span>
<span class="line-numbers"><a href="#n21" name="n21">21</a></span><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">      This demo can only be started if the &quot;job-prerequisite&quot; has passed. There</span></span>
<span class="line-numbers"><a href="#n22" name="n22">22</a></span><span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">      is also a corresponding trigger defined for the sake of demonstration.</span></span>
<span class="line-numbers"><a href="#n23" name="n23">23</a></span>
<span class="line-numbers"><a href="#n24" name="n24">24</a></span>    <span style="color:#606">depends_on</span>:
<span class="line-numbers"><a href="#n25" name="n25">25</a></span>    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">type: job</span></span>
<span class="line-numbers"><a href="#n26" name="n26">26</a></span>      <span style="color:#606">job</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">job-prerequisite</span></span>
<span class="line-numbers"><a href="#n27" name="n27">27</a></span>      <span style="color:#606">states</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[passed]</span></span>
<span class="line-numbers"><a href="#n28" name="n28">28</a></span>
<span class="line-numbers"><a href="#n29" name="n29">29</a></span>    <span style="color:#606">run_on</span>:
<span class="line-numbers"><strong><a href="#n30" name="n30">30</a></strong></span>    - <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">type: job</span></span>
<span class="line-numbers"><a href="#n31" name="n31">31</a></span>      <span style="color:#606">job</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">job-prerequisite</span></span>
<span class="line-numbers"><a href="#n32" name="n32">32</a></span>      <span style="color:#606">states</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">[passed]</span></span>
<span class="line-numbers"><a href="#n33" name="n33">33</a></span>
<span class="line-numbers"><a href="#n34" name="n34">34</a></span>    <span style="color:#606">context</span>: <span style="background-color:hsla(0,100%,50%,0.05)"><span style="color:#D20">{}</span></span>
</pre></div> </div> </div> <p>The above example has some properties removed from the original <a href="../demo-project/cider-ci/jobs/job-dependencies.yml">job-dependencies.yml</a> to highlight the essence for this page.</p> <h1 id=job>The Job</h1> <p>The keys of the <em>jobs</em> map name available jobs for reference. The values describe, specify and relate them.</p> <table class="table table-striped"> <thead> <tr> <th>Key/Property</th> <th>Presence</th> <th>Default</th> <th>Value</th> </tr> </thead> <tbody> <tr> <td><code>context</code></td> <td>required<sup id="fnref:c"><a href="#fn:c" class=footnote>1</a></sup></td> <td> </td> <td>Map - See the page <a href="context.html">the context</a>.</td> </tr> <tr> <td><code>depends_on</code></td> <td>optional</td> <td> </td> <td>Array of Maps - The jobs and their state on which the job depends on (combined with conjunction). Example: <a href="../demo-project/cider-ci/jobs/job-dependencies.yml">job-dependencies</a></td> </tr> <tr> <td><code>description</code></td> <td>optional</td> <td> </td> <td>String</td> </tr> <tr> <td><code>empty_tasks_warning</code></td> <td> </td> <td><code>true</code></td> <td>Boolean - See the section <a href="#emty-tasks-warning">Empty Task Warning</a></td> </tr> <tr> <td><code>job-key</code><sup id="fnref:i"><a href="#fn:i" class=footnote>2</a></sup></td> <td>yes<sup id="fnref:i:1"><a href="#fn:i" class=footnote>2</a></sup></td> <td> </td> <td>String - The stringified representation of key in the <code>jobs</code> map.</td> </tr> <tr> <td><code>name</code></td> <td>yes<sup id="fnref:r"><a href="#fn:r" class=footnote>3</a></sup></td> <td> </td> <td>String - The visible name of the job.</td> </tr> <tr> <td><code>run_on</code></td> <td>optional</td> <td> </td> <td>Array of Maps - Events on which the job will be automatically started (combined with disjunction). Example: <a href="../demo-project/cider-ci/jobs/job-dependencies.yml">job-dependencies</a></td> </tr> </tbody> </table> <h2 id=properties>Detailed Properties</h2> <h3 id=empty-tasks-warning>Empty Tasks Warning</h3> <p>A job without tasks will be amended with a warning. Setting the value to false will disable the warning.</p> <div class=footnotes> <ol> <li id="fn:c"> <p>The properties of the context can be written directly under the job itself when the compact notation is used. <a href="#fnref:c" class=reversefootnote>&#8617;</a></p> </li> <li id="fn:i"> <p>This is an invisible or virtual property in the configuration file. It is used during evaluation of the configuration file where any existing value would be overwritten. <a href="#fnref:i" class=reversefootnote>&#8617;</a> <a href="#fnref:i:1" class=reversefootnote>&#8617;<sup>2</sup></a></p> </li> <li id="fn:r"> <p>Defaults to the string that represents the key. <a href="#fnref:r" class=reversefootnote>&#8617;</a></p> </li> </ol> </div> </div> </div> </body> </html>