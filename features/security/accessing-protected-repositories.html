<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content='IE=edge' http-equiv=X-UA-Compatible> <meta content='width=device-width, initial-scale=1' name=viewport> <title>Cider-CI Docs</title> <link href="../../assets/stylesheets/app-9123878f.css" rel=stylesheet /> <script src="../../assets/javascripts/vendor-e7dce3cb.js"></script> <script src="../../assets/javascripts/app-72be183c.js"></script> </head> <body id=the-cider-ci-documentation> <nav class='navbar navbar-inverse navbar-fixed-top'> <div class=container-fluid> <div class=navbar-header> <a class=navbar-brand href="../../">Cider-CI <span class=semantic-version><span class=major>3</span><span class=divider>.</span><span class=minor>6</span></span> Documentation </a></div> <form action='https://www.google.com/search' class='navbar-form navbar-left' method=get role=search> <div class=form-group> <input name=as_sitesearch type=hidden value='docs.cider-ci.info'> <input class=form-control name=as_q placeholder=Search> <input style='visibility: hidden;' type=submit value='Google Search'> </div> </form> <ul class='nav navbar-nav'> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Introduction</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../../introduction/">Introduction </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Installation</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../../installation/">Installation </a></li> <li> <a href="../../installation/setup_and_deploy.html">Setup and Deploy </a></li> <li> <a href="../../installation/advanced.html">Advanced Installation </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Project Configuration</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../../project-configuration/">Project Configuration </a></li> <li> <a href="../../project-configuration/configuration-file.html">Configuration File </a></li> <li> <a href="../../project-configuration/jobs.html">Jobs </a></li> <li> <a href="../../project-configuration/tasks.html">Tasks </a></li> <li> <a href="../../project-configuration/scripts.html">Scripts </a></li> <li> <a href="../../project-configuration/advanced.html">Advanced Topics </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>API</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../../api/">API </a></li> <li> <a href="../../api/api_resources.html">Core API Resources </a></li> <li> <a href="../../api/storage_resources.html">Storage API Resources </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Development</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../../development/">Development </a></li> <li> <a href="../../development/architecture/">Architecture </a></li> <li> <a href="../../development/setup/">Setup </a></li> </ul> </li> </ul> </div> </nav> <div class=container-fluid> <div class=row> <div class='col-sm-3 col-md-2 sidebar'> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../../introduction/"><strong>Introduction</strong> </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../../installation/"><strong>Installation</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../../installation/setup_and_deploy.html">Setup and Deploy </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../../installation/advanced.html">Advanced Installation </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../../project-configuration/"><strong>Project Configuration</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../../project-configuration/configuration-file.html">Configuration File </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../../project-configuration/jobs.html">Jobs </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../../project-configuration/tasks.html">Tasks </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../../project-configuration/scripts.html">Scripts </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../../project-configuration/advanced.html">Advanced Topics </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../../api/"><strong>API</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../../api/api_resources.html">Core API Resources </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../../api/storage_resources.html">Storage API Resources </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../../development/"><strong>Development</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../../development/architecture/">Architecture </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../../development/setup/">Setup </a></li> </ul> </ul> </div> <div class='col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main'> <h1 id=accessing-protected-private-repositories>Accessing Protected (Private) Repositories</h1> <div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21</pre></td><td class=code><pre>┌───────────────────────────────────────────────────────────────────────────────────┐
│                                                                                   │
│                          Remote Git Repository / Server                           │
│                                                                                   │
└───────────────────┬───────────────────────────────┬─────────────────▲─────────────┘
                    │                               │                 │
                    │                               │                 │
                    │                               │                 │
               clone/fetch                     clone/fetch            │ push
                    │                               │                 │
                    │                               │                 │
                    │                               │                 │
┌───────────────────┼───────────────────┐   ┌───────┼─────────────────┼─────────────┐
│                   ▼                   │   │       ▼                 │             │
│   ┌───────────────────────────────┐   │   │  ┌────────┐  ┌──────────┴─────────┐   │
│   │      cider-ci_repository      │   │   │  │  root  │  │ cider-ci_exec-user │   │
│   └───────────────────────────────┘   │   │  └────────┘  └────────────────────┘   │
│                                       │   │                                       │
│            Cider-CI Server            │   │           Cider-CI Executor           │
│                                       │   │                                       │
└───────────────────────────────────────┘   └───────────────────────────────────────┘
</pre></td></tr></tbody></table> </div> <h2 id=users>Users</h2> <p>Cider-CI uses standard <code>git</code> system commands to access remote repositories. On the server the user <code>cider-ci_repository</code> clones and fetches from remote repositories. Therefore the <code>cider-ci_repository</code> must have read access to the remote repository.</p> <p>On the executor the executor service runs under <code>root</code>. Scripts are executed under the <code>cider-ci_exec-user</code>. Therefore to clone and fetch repositories in the normal workflow the <code>root</code> user must be granted read access. If any git integration is to be performed as part of a <code>Cider-CI Job</code> then the <code>cider-ci_exec-user</code> has to be granted access.</p> <h2 id=protocols>Protocols</h2> <h3 id=http--https>HTTP / HTTPS</h3> <p>It is technically possible to integrate the <code>username:password</code> as part of the URI for the <code>http/https</code> protocol. This is probably the most easy approach but it is also vulnerable. By accident (or by provoking exceptions) the password could appear in logfiles or other channels. We only recommend this method for non public repositories (better yet non public accessible Cider-CI instances) and when all the users of the Cider-CI instance can be trusted with this information.</p> <p>One alternative to URLs is the <code>.netrc</code> file. This comes via <code>libcurl</code> which is used by <code>git</code>. See the <a href="//curl.haxx.se/docs/manual.html">Curl Manual</a>.</p> <h3 id=ssh>SSH</h3> <p>Access can be granted by creating a ssh key pair and enabling the public key on the remote server. There is one particular trip hazard: SSH services are usually configured not to allow connections to remote hosts which are not white-listed. Connecting once to the remote as the target user will reveal problems and might even provide a solution by adding a line to the <code>known_hosts</code> file interactively.</p> </div> </div> </div> </body> </html>