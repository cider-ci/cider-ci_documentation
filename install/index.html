<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content='IE=edge' http-equiv=X-UA-Compatible> <meta content='width=device-width, initial-scale=1' name=viewport> <title>Cider-Ci Docs - Install</title> <link href="../assets/stylesheets/app-228cffb1.css" rel=stylesheet /> <script src="../assets/javascripts/vendor-53da2029.js"></script> <script src="../assets/javascripts/app-72be183c.js"></script> </head> <body id=the-cider-ci-documentation> <nav class='navbar navbar-inverse navbar-fixed-top'> <div class=container-fluid> <div class=navbar-header> <button aria-controls=navbar aria-expanded=false class='navbar-toggle collapsed' data-target='#navbar' data-toggle=collapse type=button> <span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span> </button> <a class=navbar-brand href="../">Cider-CI <span class=semantic-version><span class=major>2</span><span class=minor><span class=divider>.</span>4</span><span class=minor><span class=divider>.</span>0</span></span> Documentation </a></div> <div class='navbar-collapse collapse' id=navbar> <ul class='nav navbar-nav'> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Install</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="./">Install </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Project Configuration</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../project_configuration/">Project Configuration </a></li> <li> <a href="../project_configuration/dotfile.html">Dotfile </a></li> <li> <a href="../project_configuration/specification/">Job Specification </a></li> <li> <a href="../project_configuration/task.html">Task Specification </a></li> <li> <a href="../project_configuration/scripts.html">Script Specification </a></li> <li> <a href="../project_configuration/advanced.html">Advanced Topics </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>API</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../api/">API </a></li> <li> <a href="../api/api_resources.html">Core API Resources </a></li> <li> <a href="../api/storage_resources.html">Storage API Resources </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Development</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../development/architecture/">Architecture </a></li> <li> <a href="../development/setup/">Setup </a></li> </ul> </li> </ul> </div> </div> </nav> <div class=container-fluid> <div class=row> <div class='col-sm-3 col-md-2 sidebar'> <ul class='nav nav-sidebar'> <li class=active> <a class=alike href="./"><strong>Install</strong> </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../project_configuration/"><strong>Project Configuration</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../project_configuration/dotfile.html">Dotfile </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project_configuration/specification/">Job Specification </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project_configuration/task.html">Task Specification </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project_configuration/scripts.html">Script Specification </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project_configuration/advanced.html">Advanced Topics </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../api/"><strong>API</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../api/api_resources.html">Core API Resources </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../api/storage_resources.html">Storage API Resources </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <span class=alike> <strong>Development</strong> </span> </li> <ul class='nav nav-sidebar'> <li class=''> <a href="../development/architecture/">Architecture </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../development/setup/">Setup </a></li> </ul> </ul> </div> <div class='col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main'> <h1 class=no_toc id=installing-cider-ci>Installing Cider-CI</h1> <p>Cider-CI is open source and can be installed with little effort. This page guides through the process of installing a Cider-CI environment.</p> <h3 class=no_toc id=table-of-contents>Table of Contents</h3> <ul id=markdown-toc> <li><a id=markdown-toc-environment-prerequisites href="#environment-prerequisites">Environment Prerequisites</a></li> <li><a id=markdown-toc-step-by-step-install-procedure-for-a-demo-environment href="#step-by-step-install-procedure-for-a-demo-environment">Step by Step Install Procedure for a Demo Environment</a></li> <li><a id=markdown-toc-adding-traits href="#adding-traits">Adding Traits</a> <ul> <li><a id=markdown-toc-adding-traits-provided-by-the-ansible-setup href="#adding-traits-provided-by-the-ansible-setup">Adding Traits provided by the Ansible Setup</a></li> <li><a id=markdown-toc-adding-custom-traits href="#adding-custom-traits">Adding Custom Traits</a></li> </ul> </li> <li><a id=markdown-toc-production-environment href="#production-environment">Production Environment</a></li> </ul> <h2 id=environment-prerequisites>Environment Prerequisites</h2> <div class=row> <div class=col-md-6> <p>Ansible must be present on the <em>control</em> machine. See the <a href="//docs.ansible.com/intro_installation.html">Install</a> page of the Ansible Documentation. We use a fairly recent version (â‰¥ 1.8 at the time of writing) of Ansible. The operating system on the controller is not relevant. We use MacOS and various Linux variants.</p> <p>We use <strong>two Ubuntu 14.04</strong> machines in this example. One acts as a sever and the other as the executor. The server machine should have at least 1GB of memory.</p> <p>The working account on the <strong>control machine</strong> must have <strong>ssh access to the server and executors</strong>. A setup with SSH keys and without passwords is the most straight forward configuration.</p> <p>The server and executors must reach each other via the <strong>https</strong> protocol (port 443) to function properly. The <strong>example setup</strong> assumes that all machines have <strong>fixed ipv4 addresses</strong>. <strong>Custom configuration</strong> of protocol and port, as well as names instead of addresses is <strong>possible</strong> but outside the scope of this documentation.</p> </div> <div class=col-md-6> <p><a href="environment-51436abd.svg"><img alt=Environment src="environment-51436abd.svg"/></a></p> </div> </div> <h2 id=step-by-step-install-procedure-for-a-demo-environment>Step by Step Install Procedure for a Demo Environment</h2> <ol> <li> <p>We check out the <a href="https://github.com/cider-ci/cider-ci">Cider-CI main project</a> including all sub-projects inside the control machine:</p> <p><code>git clone --recursive https://github.com/cider-ci/cider-ci.git</code></p> </li> <li> <p>We descend into the ansible-setup directory.</p> <p><code>cd cider-ci/ansible-setup</code></p> </li> <li> <p>We adjust the host ip within the <code>hosts_example</code> file:</p> <div class="highlight plaintext"><table style="border-spacing: 0"><tbody><tr><td class="gutter gl" style="text-align: right"><pre class=lineno>1
2
3</pre></td><td class=code><pre> [example]
 example-server ansible_ssh_host=192.168.0.10 ansible_ssh_user=root
 example-executor1 ansible_ssh_host=192.168.0.11 ansible_ssh_user=root
</pre></td></tr></tbody></table> </div> <p>It is possible to use just one machine for the server and and executor role. This machine must then be added to the <code>cider-ci-server</code> and the <code>cider-ci-executors</code> group in the hosts file.</p> </li> <li> <p>We invoke ansible-playbook to trigger the install:</p> <p><code>ansible-playbook -i hosts_example play_site.yml -e 'system_admin_password=password system_admin_login=adam'</code></p> </li> </ol> <h2 id=adding-traits>Adding Traits</h2> <p>The example installation will provide the traits <code>linux</code> and <code>bash</code> for each executor. They suffice to run the executions of the <a href="https://github.com/cider-ci/cider-ci_demo-project-bash">Bash Demo Project for Cider-CI</a>.</p> <h3 id=adding-traits-provided-by-the-ansible-setup>Adding Traits provided by the Ansible Setup</h3> <p>A set of additional traits can be automatically installed with</p> <p><code>ansible-playbook -i hosts_example play_traits.yml</code></p> <h3 id=adding-custom-traits>Adding Custom Traits</h3> <p>A custom trait can be added by adding a corresponding line to the file <code>/etc/cider-ci/traits.txt</code>.</p> <h2 id=production-environment>Production Environment</h2> <p>The server for a production environment should have at least 4GB of memory. A fast disk is also recommended. Requirements for the executors depend on the use case.</p> <p>The procedure for installing a production environment is exactly the same as for the demo environment. However, the parameters for the example environment are far from optimal. The <a href="https://github.com/cider-ci/cider-ci_ansible-setup">Cider-CI Ansible Setup</a> contains the hosts file <code>hosts_zhkd</code> which is more appropriate to be used as a template in this case. The directories <code>host_vars</code> and <code>group_vars</code> contain further files to be used as templates and to be customized.</p> </div> </div> </div> </body> </html>