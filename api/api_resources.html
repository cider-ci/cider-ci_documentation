<!DOCTYPE html> <html lang=en> <head> <meta charset=utf-8> <meta content='IE=edge' http-equiv=X-UA-Compatible> <meta content='width=device-width, initial-scale=1' name=viewport> <title>Cider-Ci Docs - Core API Resources</title> <link href="../assets/stylesheets/app-9123878f.css" rel=stylesheet /> <script src="../assets/javascripts/vendor-e7dce3cb.js"></script> <script src="../assets/javascripts/app-72be183c.js"></script> </head> <body id=the-cider-ci-documentation> <nav class='navbar navbar-inverse navbar-fixed-top'> <div class=container-fluid> <div class=navbar-header> <a class=navbar-brand href="../">Cider-CI <span class=semantic-version><span class=major>3</span><span class=divider>.</span><span class=minor>2</span></span> Documentation </a></div> <form action='https://www.google.com/search' class='navbar-form navbar-left' method=get role=search> <div class=form-group> <input name=as_sitesearch type=hidden value='docs.cider-ci.info'> <input class=form-control name=as_q placeholder=Search> <input style='visibility: hidden;' type=submit value='Google Search'> </div> </form> <ul class='nav navbar-nav'> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Introduction</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../introduction/">Introduction </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Installation</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../installation/">Installation </a></li> <li> <a href="../installation/executor-configuration.html">Executor Configuration </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Project Configuration</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../project-configuration/">Project Configuration </a></li> <li> <a href="../project-configuration/dotfile.html">Dotfile </a></li> <li> <a href="../project-configuration/jobs.html">Jobs </a></li> <li> <a href="../project-configuration/tasks.html">Tasks </a></li> <li> <a href="../project-configuration/scripts.html">Scripts </a></li> <li> <a href="../project-configuration/advanced.html">Advanced Topics </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>API</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="./">API </a></li> <li> <a href="api_resources.html">Core API Resources </a></li> <li> <a href="storage_resources.html">Storage API Resources </a></li> </ul> </li> <li class=dropdown> <a class=dropdown-toggle data-toggle=dropdown href="#"><strong>Development</strong> <span class=caret></span> </a><ul class=dropdown-menu> <li> <a href="../development/architecture/">Architecture </a></li> <li> <a href="../development/setup/">Setup </a></li> </ul> </li> </ul> </div> </nav> <div class=container-fluid> <div class=row> <div class='col-sm-3 col-md-2 sidebar'> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../introduction/"><strong>Introduction</strong> </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../installation/"><strong>Installation</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../installation/executor-configuration.html">Executor Configuration </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="../project-configuration/"><strong>Project Configuration</strong> </a></li> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/dotfile.html">Dotfile </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/jobs.html">Jobs </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/tasks.html">Tasks </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/scripts.html">Scripts </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../project-configuration/advanced.html">Advanced Topics </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <a class=alike href="./"><strong>API</strong> </a></li> <ul class='nav nav-sidebar'> <li class=active> <a href="api_resources.html">Core API Resources </a><ul class=toc></ul> </li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="storage_resources.html">Storage API Resources </a></li> </ul> </ul> <ul class='nav nav-sidebar'> <li class=''> <span class=alike> <strong>Development</strong> </span> </li> <ul class='nav nav-sidebar'> <li class=''> <a href="../development/architecture/">Architecture </a></li> </ul> <ul class='nav nav-sidebar'> <li class=''> <a href="../development/setup/">Setup </a></li> </ul> </ul> </div> <div class='col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main'> <ul id=markdown-toc> <li><a id=markdown-toc-general-properties href="#general-properties">General Properties</a></li> <li><a id=markdown-toc-root href="#root">Root</a></li> <li><a id=markdown-toc-job href="#job">Job</a></li> <li><a id=markdown-toc-job-stats href="#job-stats">Job-Stats</a></li> <li><a id=markdown-toc-jobs href="#jobs">Jobs</a></li> <li><a id=markdown-toc-task href="#task">Task</a></li> <li><a id=markdown-toc-tasks href="#tasks">Tasks</a></li> <li><a id=markdown-toc-trial href="#trial">Trial</a></li> <li><a id=markdown-toc-trials href="#trials">Trials</a></li> <li><a id=markdown-toc-tree-attachment href="#tree-attachment">Tree-Attachment</a></li> <li><a id=markdown-toc-tree-attachments href="#tree-attachments">Tree-Attachments</a></li> <li><a id=markdown-toc-trial-attachment href="#trial-attachment">Trial-Attachment</a></li> <li><a id=markdown-toc-trial-attachments href="#trial-attachments">Trial-Attachments</a></li> </ul> <h1 class=no_toc id=core-api-resources>Core API Resources</h1> <p>All of the resources in this section are prefixed with <code>/cider-ci/api</code>. This prefix is omitted for brevity in the following.</p> <h2 id=general-properties>General Properties</h2> <h3 id=content-types>Content Types</h3> <p>The core API supports the content types <code>application/json-roa+json</code> and <code>application/json</code> for <code>GET</code> requests to all resources. The former includes hyperlinks to related resources and to this documentation.</p> <p>The API evaluates the accept header including the <code>q</code> parameter, see <a href="//www.w3.org/Protocols/rfc2616/rfc2616-sec14.html">Section 14 of RFC 2616</a> . The content type <code>application/json-roa+json</code> as a higher quality of service and is thus preferred. If no matching accept header is supplied the content-type <code>application/json-roa+json</code> will be used.</p> <p>All data requests containing a body like <code>PUT</code>, <code>PATCH</code>, and <code>POST</code> support the content type <code>application/json</code>.</p> <h3 id=index-resources>Index Resources</h3> <p>Several resources are conceptually indexes, e.g. <code>/jobs/</code>, which rather return several references to the same kind of resource, e.g. <code>/job/:id</code>. All of these indexes are paginated an use the <code>page</code> parameter with an integer value for iteration.</p> <p>The content type <code>application/json-roa+json</code> includes a <code>next</code> link which should be used to iterate index resources.</p> <h2 id=root>Root</h2> <h3 id=get->GET <code>/</code></h3> <p>The entry-point.</p> <h2 id=job>Job</h2> <h3 id=get-jobsid>GET <code>/jobs/:id</code></h3> <p>Returns the properties of the corresponding <em>Job</em>.</p> <h2 id=job-stats>Job-Stats</h2> <h3 id=get-jobidstats>GET <code>/job/:id/stats</code></h3> <p>Returns the aggregated count of the number of tasks belonging to an <em>Job</em> with respect to their state.</p> <h2 id=jobs>Jobs</h2> <h3 id=get-jobs>GET <code>/jobs/</code></h3> <p>Returns a list of links each pointing to an <code>Job</code>. Order is descending by the <code>created_at</code> time-stamp.</p> <h4 id=query-parameters>Query Parameters</h4> <h5 id=branch>branch</h5> <p>Filters <em>Jobs</em> of commits which are directly referenced by the given branch with name equal to the given value where the matching is case insensitive.</p> <p>Query string example: <code>?branch=master</code></p> <p>Note: this filter is case insensitive with respect to <em>branch-name</em>.</p> <h5 id=branchdescendants>branchdescendants</h5> <p>Similar as above, however it will also include all descendants of the commit referenced by the given branch name.</p> <p>Examples:</p> <ol> <li> <p>Descendants of the branch master: <code>?branch=master</code></p> </li> <li> <p>A combination of <code>branch</code> and <code>branchdescendants</code> can make sense: <code>?branchdescendants=next&amp;branch=master</code>, read: give me the jobs of the commit where the branch master points to and which are descendants of the branch next.</p> </li> </ol> <h5 id=repository>repository</h5> <p>Filters <em>Jobs</em> related to commits within repositories with the name equal to the value of the parameter.</p> <p>This filter is also case insensitive.</p> <p>Examples:</p> <ol> <li>jobs for the <em>Madek</em> repository: <code>?repository=madek</code></li> <li>for the <em>Madek</em> repository and for the master branch: <code>?repository=madek&amp;branch=master</code></li> <li>including descendants: <code>?repository=madek&amp;branchdescendants=master</code></li> <li>composing even more: <code>?repository=madek&amp;branchdescendants=next&amp;branch=master</code></li> </ol> <h5 id=state>state</h5> <p>Filters <em>Jobs</em> with state equal to the value of the parameter.</p> <p>Query string example: <code>?branch-name=master&amp;repository-name=leihs&amp;state=success</code></p> <h2 id=task>Task</h2> <h3 id=get-tasksid>GET <code>/tasks/:id</code></h3> <p>Returns the properties of the corresponding <code>Task</code>.</p> <h2 id=tasks>Tasks</h2> <h3 id=get-jobsjobidtasks>GET <code>/jobs/:job_id/tasks/</code></h3> <p>Returns a list of links each pointing to a <code>Task</code> which belongs to <code>Job</code> with the id <code>:job_id</code>. Order is ascending with respect to the <code>name</code> property.</p> <h4 id=query-parameters-1>Query Parameters</h4> <h5 id=state-1>state</h5> <p>Filters <code>Tasks</code> with state equal to the value of the parameter.</p> <p>Query string example: <code>?page=0&amp;state=failed</code></p> <h2 id=trial>Trial</h2> <h3 id=get-trialsid>GET <code>/trials/:id</code></h3> <p>Returns the properties of the trial with the id <code>:id</code>.</p> <h2 id=trials>Trials</h2> <h3 id=get-taskstaskidtrials>GET <code>/tasks/:task_id/trials/</code></h3> <p>Returns a list of links each pointing to a trial which belongs to the task with the id <code>:task_id</code>. Order is descending with respect to the <code>updated_at</code> property.</p> <h4 id=query-parameters-2>Query Parameters</h4> <h5 id=state-2>state</h5> <p>Filters trials with state equal to the value of the parameter.</p> <p>Query string example: <code>?page=0&amp;state=failed</code></p> <h2 id=tree-attachment>Tree-Attachment</h2> <h3 id=get-tree-attachmentsid>GET <code>/tree-attachments/:id</code></h3> <p>Returns the properties of a <em>Tree-Attachment</em>.</p> <p>This does not return the data-stream of the attachment itself. A hyperlink to the latter is included in <code>application/json-roa+json</code> response types, see <a href="#content-types">Content Types</a>.</p> <h2 id=tree-attachments>Tree-Attachments</h2> <h3 id=get-jobsjobidattachments>GET <code>/jobs/:job_id/attachments/</code></h3> <p>Returns a list of ids each belonging to a <em>Tree-Attachment</em> which belongs to the <em>Job</em> with the id <code>:job_id</code>. Note, the <code>tree_id</code> is a inherent property of every <em>Job</em>. Order is ascending with respect to the <code>path</code> property.</p> <h2 id=trial-attachment>Trial-Attachment</h2> <h3 id=get-trial-attachmentsid>GET <code>/trial-attachments/:id</code></h3> <p>Returns the properties of a <em>Trial-Attachment</em>.</p> <p>This does not return the data-stream of the attachment itself. A hyperlink to the latter is included in <code>application/json-roa+json</code> response types, see <a href="#content-types">Content Types</a>.</p> <h2 id=trial-attachments>Trial-Attachments</h2> <h3 id=get-trialstrialidtrial-attachments>GET <code>/trials/:trial_id/trial-attachments/</code></h3> <p>Returns a list of ids. Each belongs to a <em>Trial-Attachment</em> which belongs to the trial with the id <code>:trial_id</code>. Order is ascending with respect to the <code>path</code> property.</p> </div> </div> </div> </body> </html>